From 50612327f2ba8b7e50b08f48e201089d768894e9 Mon Sep 17 00:00:00 2001
From: Sascha Hauer <s.hauer@pengutronix.de>
Date: Tue, 12 Jun 2012 11:53:13 +0200
Subject: [PATCH 15/19] ARM i.MX6: Add IPU device support

Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
Signed-off-by: Philipp Zabel <p.zabel@pengutronix.de>
---
 arch/arm/boot/dts/imx6q-arm2.dts |    4 ++++
 arch/arm/boot/dts/imx6q.dtsi     |   22 ++++++++++++++++++++++
 2 files changed, 26 insertions(+)

diff --git a/arch/arm/boot/dts/imx6q-arm2.dts b/arch/arm/boot/dts/imx6q-arm2.dts
index d792581..ec41898 100644
--- a/arch/arm/boot/dts/imx6q-arm2.dts
+++ b/arch/arm/boot/dts/imx6q-arm2.dts
@@ -28,6 +28,10 @@
 			status = "disabled"; /* gpmi nand conflicts with SD */
 		};
 
+		hdmi@00120000 {
+			status = "okay";
+		};
+
 		aips-bus@02100000 { /* AIPS2 */
 			ethernet@02188000 {
 				phy-mode = "rgmii";
diff --git a/arch/arm/boot/dts/imx6q.dtsi b/arch/arm/boot/dts/imx6q.dtsi
index fd57079..fc3a1e0 100644
--- a/arch/arm/boot/dts/imx6q.dtsi
+++ b/arch/arm/boot/dts/imx6q.dtsi
@@ -111,6 +111,14 @@
 		       status = "disabled";
 		};
 
+		hdmi@00120000 {
+			compatible = "fsl,imx6q-hdmi", "fsl,hdmi";
+			reg = <0x00120000 0x9000>;
+			interrupts = <0 115 0x04>;
+			crtcs = <&ipu0 0 &ipu0 1 &ipu1 0 &ipu1 1>;
+			status = "disabled";
+		};
+
 		timer@00a00600 {
 			compatible = "arm,cortex-a9-twd-timer";
 			reg = <0x00a00600 0x20>;
@@ -812,5 +820,19 @@
 				status = "disabled";
 			};
 		};
+
+		ipu0: ipu@02400000 {
+			#crtc-cells = <1>;
+			compatible = "fsl,imx6q-ipu";
+			reg = <0x02400000 0x400000>;
+			interrupts = <0 6 0x4 0 5 0x4>;
+		};
+
+		ipu1: ipu@02800000 {
+			#crtc-cells = <1>;
+			compatible = "fsl,imx6q-ipu";
+			reg = <0x02800000 0x400000>;
+			interrupts = <0 8 0x4 0 7 0x4>;
+		};
 	};
 };
-- 
1.7.10.4

